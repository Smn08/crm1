# Система технической поддержки

## Обзор проекта

Это полнофункциональное веб-приложение для технической поддержки, разработанное для эффективного управления заявками клиентов, обеспечения коммуникации между заказчиками и исполнителями, а также предоставления централизованной базы знаний. Система включает в себя ролевую модель (администратор, исполнитель, заказчик) и динамическое отслеживание статусов заявок.

## Архитектура

Проект состоит из двух основных частей: Backend (серверная часть) и Frontend (клиентская часть).

### Backend (support-system-backend)

Разработан на Python с использованием фреймворка Flask. Отвечает за логику работы с данными, аутентификацию, управление пользователями, заявками, сообщениями и статьями базы знаний. Использует SQLAlchemy для работы с базой данных SQLite.

- **Технологии**: Python 3.11+, Flask, Flask-SQLAlchemy, Flask-CORS, Werkzeug
- **База данных**: SQLite (файл `app.db`)
- **API**: RESTful API с JSON
- **Порт по умолчанию**: `5002`

### Frontend (support-system-frontend)

Разработан на JavaScript с использованием библиотеки React. Предоставляет пользовательский интерфейс для взаимодействия с Backend API. Использует Tailwind CSS для стилизации и Vite для сборки.

- **Технологии**: React 18, Vite, Tailwind CSS, React Router
- **Порт по умолчанию**: `5173`

## Структура проекта

```
. # Корневая директория проекта
├── support-system-backend/ # Каталог Backend приложения
│   ├── src/ # Исходный код Backend
│   │   ├── main.py # Главный файл Flask приложения
│   │   ├── models/ # Модели базы данных
│   │   ├── routes/ # API маршруты
│   │   └── database/ # Директория для файла базы данных (создается при первом запуске)
│   ├── requirements.txt # Зависимости Python
│
├── support-system-frontend/ # Каталог Frontend приложения
│   ├── public/ # Статические файлы
│   ├── src/ # Исходный код Frontend
│   │   ├── App.jsx # Главный компонент React
│   │   ├── components/ # React компоненты
│   │   ├── contexts/ # Контексты React
│   │   └── ui/ # Переиспользуемые UI компоненты (shadcn/ui)
│   ├── index.html # Главный HTML файл
│   ├── package.json # Зависимости Node.js и скрипты
│   └── vite.config.js # Конфигурация Vite
│
├── Dockerfile
├── docker-compose.yml
├── LICENSE.txt
├── README.md # Этот файл
└── ... (дополнительная документация)
```

## Быстрый старт через Docker

### 1. Сборка и запуск контейнера

```powershell
# В корне проекта:
docker compose build
docker compose up
```

- Backend (Flask) будет доступен на http://localhost:5002
- Frontend (React) будет доступен по тому же адресу (статические файлы обслуживаются Flask)
- База данных сохраняется в volume ./support-system-backend/src/database

### 2. Остановка контейнера

```powershell
docker compose down
```

## Ручной запуск (без Docker)

### Для Linux

#### Backend
```bash
cd support-system-backend
python3.11 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
python src/main.py
```

#### Frontend
```bash
cd support-system-frontend
pnpm install
pnpm run dev --host
```

### Для Windows

#### Backend
```powershell
cd support-system-backend
python -m venv venv
venv\Scripts\activate
pip install -r requirements.txt
python src\main.py
```

#### Frontend
```powershell
cd support-system-frontend
npm install -g pnpm
pnpm install
pnpm run dev --host
```

## Роли пользователей и тестовые данные

Система поддерживает три основные роли:

- **Администратор**: Полный доступ к системе, включая управление пользователями и базой знаний.
- **Исполнитель**: Работает с назначенными заявками, отвечает клиентам.
- **Заказчик**: Создает новые заявки, отслеживает их статус.

### Тестовые учетные данные:

- **Администратор**: `admin` / `admin123`
- **Заказчик**: `customer1` / `password123`
- **Исполнитель**: `agent1` / `password123`
- **Дополнительный заказчик**: `testuser` / `password123` (создан в процессе тестирования)

## Основной функционал

- Аутентификация и авторизация (только через админа)
- Управление пользователями (CRUD, только для админа)
- Система заявок: создание, просмотр, фильтрация, кастомные фильтры, переписка, смена статусов
- Динамические статусы: автоматические переходы, модерация, назначение исполнителя
- База знаний: CRUD статей, категории, поиск
- Адаптивный дизайн, поддержка светлой/тёмной темы
- Визуальная статистика по активным заявкам на главной

## Особенности и ограничения

- Кастомные фильтры заявок: пользователь может сохранять и применять свои фильтры (по статусу, приоритету, поиску)
- Статистика на главной: только по активным (нерешённым) заявкам
- Использование в коммерческих целях — только по запросу (см. LICENSE.txt)

## Документация

В корне проекта:
- `final_documentation.md`: Полная техническая документация
- `user_manual.md`: Руководство пользователя
- `comprehensive_testing_results.md`: Отчёт о тестировании
- `requirements_and_architecture.md`: Требования и архитектура
- `api_demo.md`: Примеры API
- `todo.md`: Журнал задач

## Лицензия

Проект распространяется для некоммерческого использования. Для коммерческого использования требуется разрешение (см. LICENSE.txt).