# Система технической поддержки

## Обзор проекта

Это полнофункциональное веб-приложение для технической поддержки, разработанное для эффективного управления заявками клиентов, обеспечения коммуникации между заказчиками и исполнителями, а также предоставления централизованной базы знаний. Система включает в себя ролевую модель (администратор, исполнитель, заказчик) и динамическое отслеживание статусов заявок.

## Архитектура

Проект состоит из двух основных частей: Backend (серверная часть) и Frontend (клиентская часть).

### Backend (support-system-backend)

Разработан на Python с использованием фреймворка Flask. Отвечает за логику работы с данными, аутентификацию, управление пользователями, заявками, сообщениями и статьями базы знаний. Использует SQLAlchemy для работы с базой данных SQLite.

- **Технологии**: Python 3.11+, Flask, Flask-SQLAlchemy, Flask-CORS, Werkzeug
- **База данных**: SQLite (файл `app.db`)
- **API**: RESTful API с JSON
- **Порт по умолчанию**: `5002`

### Frontend (support-system-frontend)

Разработан на JavaScript с использованием библиотеки React. Предоставляет пользовательский интерфейс для взаимодействия с Backend API. Использует Tailwind CSS для стилизации и Vite для сборки.

- **Технологии**: React 18, Vite, Tailwind CSS, React Router
- **Порт по умолчанию**: `5173`

## Структура проекта

```
. # Корневая директории проекта
├── support-system-backend/ # Каталог Backend приложения
│   ├── src/ # Исходный код Backend
│   │   ├── main.py # Главный файл Flask приложения
│   │   ├── models/ # Модели базы данных
│   │   │   ├── user.py
│   │   │   ├── status.py
│   │   │   ├── ticket.py
│   │   │   ├── message.py
│   │   │   └── knowledge_base.py
│   │   ├── routes/ # API маршруты
│   │   │   ├── user.py
│   │   │   ├── ticket.py
│   │   │   ├── message.py
│   │   │   ├── status.py
│   │   │   └── knowledge_base.py
│   │   └── database/ # Директория для файла базы данных (создается при первом запуске)
│   │       └── app.db
│   ├── venv/ # Виртуальное окружение Python
│   └── requirements.txt # Зависимости Python
│
├── support-system-frontend/ # Каталог Frontend приложения
│   ├── public/ # Статические файлы
│   ├── src/ # Исходный код Frontend
│   │   ├── App.jsx # Главный компонент React
│   │   ├── App.css # Основные стили
│   │   ├── main.jsx # Точка входа React
│   │   ├── components/ # React компоненты
│   │   │   ├── LoginPage.jsx
│   │   │   ├── Dashboard.jsx
│   │   │   ├── TicketList.jsx
│   │   │   ├── CreateTicket.jsx
│   │   │   ├── TicketDetail.jsx
│   │   │   ├── UserManagement.jsx
│   │   │   └── KnowledgeBase.jsx
│   │   ├── contexts/ # Контексты React
│   │   │   └── AuthContext.jsx
│   │   └── ui/ # Переиспользуемые UI компоненты (shadcn/ui)
│   │       ├── button.jsx
│   │       ├── input.jsx
│   │       ├── label.jsx
│   │       ├── dialog.jsx
│   │       ├── select.jsx
│   │       └── textarea.jsx
│   ├── index.html # Главный HTML файл
│   ├── package.json # Зависимости Node.js и скрипты
│   ├── pnpm-lock.yaml # Файл блокировки pnpm
│   └── vite.config.js # Конфигурация Vite
│
└── README.md # Этот файл
└── final_documentation.md # Полная документация по проекту
└── user_manual.md # Руководство пользователя
└── comprehensive_testing_results.md # Результаты комплексного тестирования
└── requirements_and_architecture.md # Документ с требованиями и архитектурой
└── todo.md # Список выполненных задач
└── api_demo.md # Демонстрация API
```

## Установка и запуск

Для запуска приложения вам потребуется установить Python (версия 3.11 или выше) и Node.js (версия 20 или выше) с менеджером пакетов pnpm.

### 1. Клонирование репозитория (если применимо)

```bash
git clone <URL_ВАШЕГО_РЕПОЗИТОРИЯ>
cd <ИМЯ_ВАШЕЙ_ДИРЕКТОРИИ_ПРОЕКТА>
```

### 2. Запуск Backend

Перейдите в директорию `support-system-backend`, создайте и активируйте виртуальное окружение, затем установите зависимости и запустите сервер.

```bash
cd support-system-backend
python3.11 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
python src/main.py
```

Сервер будет запущен на `http://localhost:5002`.

### 3. Запуск Frontend

Откройте новое окно терминала, перейдите в директорию `support-system-frontend`, установите зависимости и запустите приложение.

```bash
cd support-system-frontend
pnpm install
pnpm run dev --host
```

Приложение будет доступно по адресу `http://localhost:5173`.

## Роли пользователей и тестовые данные

Система поддерживает три основные роли:

- **Администратор**: Полный доступ к системе, включая управление пользователями и базой знаний.
- **Исполнитель**: Работает с назначенными заявками, отвечает клиентам.
- **Заказчик**: Создает новые заявки, отслеживает их статус.

### Тестовые учетные данные:

- **Администратор**: `admin` / `admin123`
- **Заказчик**: `customer1` / `password123`
- **Исполнитель**: `agent1` / `password123`
- **Дополнительный заказчик**: `testuser` / `password123` (создан в процессе тестирования)

## Основной функционал

- **Аутентификация**: Вход в систему по логину и паролю (регистрация пользователей доступна только администраторам).
- **Управление пользователями**: Администраторы могут создавать, просматривать, редактировать и удалять пользователей с различными ролями.
- **Система заявок**: Создание, просмотр, обновление статусов и переписка по заявкам.
- **Динамические статусы**: Автоматическое изменение статусов заявок в зависимости от действий пользователей (например, `Ожидает ответа клиента`, `Ожидает ответа агента`).
- **База знаний**: Раздел с инструкциями и FAQ, доступный для всех ролей. Администраторы могут управлять статьями.
- **Адаптивный дизайн**: Интерфейс адаптирован для различных устройств.
- **Темы**: Поддержка светлой и темной тем.

## Известные проблемы и будущие улучшения

### Известные проблемы:

- **База знаний (Frontend)**: Компонент базы знаний может некорректно отображаться в браузере. API для базы знаний работает исправно, проблема связана с рендерингом на стороне клиента.

### Будущие улучшения:

- **Уведомления в реальном времени**: Интеграция WebSocket для мгновенных уведомлений о новых сообщениях или изменениях статусов.
- **Загрузка файлов**: Возможность прикреплять файлы к заявкам и сообщениям.
- **Расширенная аналитика**: Отчеты и дашборды для отслеживания производительности поддержки.
- **Интеграция с email/SMS**: Уведомления по электронной почте или SMS о важных событиях.
- **Поиск по базе знаний**: Улучшенный полнотекстовый поиск по статьям базы знаний.

## Документация

В корневой директории проекта вы найдете следующие дополнительные файлы документации:

- `final_documentation.md`: Полная техническая документация по проекту.
- `user_manual.md`: Подробное руководство пользователя.
- `comprehensive_testing_results.md`: Отчет о проведенном тестировании.
- `requirements_and_architecture.md`: Детальное описание требований и архитектуры системы.
- `api_demo.md`: Примеры использования API.
- `todo.md`: Журнал выполненных задач в процессе разработки.

## Лицензия

Этот проект распространяется под лицензией MIT. Подробности см. в файле `LICENSE` (если применимо).

